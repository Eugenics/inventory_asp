@page
@using Microsoft.AspNetCore.Identity
@model inventory_dot_core.Areas.Admin.Pages.EditModel
@{
    ViewData["Title"] = "Редактирование пользователя";
}

<h2>Пользователь @Model.Input.UserName</h2>
<hr />
<div class="row">
    <input type="hidden" name="userId" value="@Model.Input.UserId" />
    <div class="col-md-4">
        <h3>Список ролей</h3>
        <form method="post">
            <div class="form-group">
                @foreach (IdentityRole role in Model.AllRoles)
                {
                    <div class="custom-control custom-checkbox">
                        <input id="roleCheckBox_@role.Name"
                               name="roles"
                               type="checkbox"
                               class="custom-control-input"
                               value="@role.Name"
                               @(Model.UserRoles.Contains(role.Name) ? "checked=\"checked\"" : "") />
                        <label class="custom-control-label" for="roleCheckBox_@role.Name">
                            @role.Name
                        </label>
                        <br />
                    </div>
                }
            </div>

            <div>
                <input class="btn btn-primary btn-sm"
                       type="submit"
                       value="Сохранить"
                       asp-route-userId="@Model.Input.UserId" /> |
                <a id="admin" class="btn btn-primary btn-sm"
                   asp-area="Admin"
                   asp-page="/Index">Назад</a>
            </div>
        </form>
    </div>
</div>